(function(){"use strict";var e=typeof document.getElementsByClassName!="undefined",t=typeof document.querySelectorAll!="undefined";var n=Array,r=function(e){return e instanceof n};var i="className",s="tagName";var o=e?function(e,t){return(t||document).getElementsByClassName(e)}:function(e,t,n){var r=(t||document).getElementsByTagName(n||"*"),i=r.length,s=new RegExp("\\b"+e+"\\b");stack=[];while(i--)if(s.test(r[i].className))stack.push(r[i]);return stack},u=function(e,t){return(t||document).getElementById(e)},a=function(e,t){return(t||document).getElementsByTagName(e)};var f=/#[^#]*$/,l=/^(\w+)?(?:#([\w\-_]+))?(?:\.([\w\-_]+))?$/,c=/[^,]+(\[[^\]]+\])|[^,]+/g,h=/\S+(\[[^\]]*\])|\S+/g,p=/#([\w\-_]+)/,d=/^\w+/,v=/\.([\w\-_]+)/g;var m=1,g=function(e){return e["data-node-index"]||(e["data-node-index"]=m++)},y=null,b=null,w=function(e,t){var n,r;while(t--){r=g(n=e[t]);if(y[r]!=n)b.push(y[r]=n)}},E=function(e,t){var n,i;if((n=e.length)==0)return t;if((i=t.length)==0)return e;if(r(e)&&r(t))return e.concat(t);y=[];b=[];w(e,n);w(t,i);return b},S=function(e){return{cache:null,root:e||document,handler:{className:o,tagName:a},exec:function(e,t,n){if(!this.cache)return this.cache=this.handler[e](t,this.root,n);var r=this.cache,i=this.cache=[],s=0,o;while(o=r[s++])if(o[e].toLowerCase().indexOf(t)>-1)i.push(o);return this.cache}}};var x={},T=function(e){if(x[e])return x[e];var t;if(t=f.exec(e))e=t[0];if(t=l.exec(e)){if(t[2])return[{id:t[2]}];return[{tagName:t[1],className:t[3]}]}var n=[],r,i;while(t=h.exec(e)){r=t[0];if(i=p.exec(r)){n.push({id:i[1]});continue}var s={};if(i=d.exec(r))s.tagName=i[0];if(i=r.match(v))s.className=i;n.push(s)}return n},N={},C=function(e){if(N[e])return N[e];var t=e.match(c),n=t.length;for(var r=[];n--;r.push(T(t[n])));return N[e]=r},k=function(t,n,r){var o=r||0,a=t[o],f,l;if(l=a.id)n.cache=[u(l,n.root)];else{if(l=a.className)n.exec(i,l,a.tagName);if((e||!l)&&(l=a.tagName))n.exec(s,l)}var c=n.cache.length,h=[],p=o+1;if(t[p]){while(c--)if((l=n.cache[c]).childNodes.length>0)h=E(h,k(t,new S(l),p))}else return n.cache;return h},L=function(e,t){var n=C(e),r=n.length,i=[],s,o;while(s=n[--r])if(o=k(s,new S(t)))i=E(i,o);return i};var A={get:L};window.finder=A}).call(this)